define(function(require){require("js/component/waterfull");alert(1)}),define("js/component/waterfull",function(require,t,s){function n(t){this.url=t.url,this.lock=0,this.page=t.page||2,this.params=t.params||{},this.needFirst=t.needFirst,this.before=t.before,this.indicator=t.indicator,this.success=t.success,this.target=t.target,this.needDestroy=1,this.ignore=0,this.addition=t.addition,this.scrollTest=a,this.inited=0,this.timeout=t.timeout||4e3,this.timeoutHandler=void 0,this.img=t.img||".list_left img",this.init(),this.needFirst&&this.fetch()}function o(){var t=this,s=window.onscroll,n=this.indicator.style;n.backgroundSize="100% 100%",window.onscroll=function(){"function"==typeof s&&s(),t.scrollTest&&t.scrollTest()}}function c(){this.scrollTest=void 0}function d(t){1==this.isdestroy&&(this.scrollTest=a,this.isdestroy=0,!t&&this.init(),this.lock=0,this.indicator.innerHTML="Loading...")}function a(){var t=this;if(!t.lock)return t.ignore?void(t.ignore=0):void(window.scrollY>=v.offsetHeight-w-t.addition&&(t.lock=1,t.fetch()))}function h(){this.scrollTest=void 0,this.indicator.style.backgroundImage='url("aaa")',this.indicator.innerHTML="没有数据了..",this.indicator.style.textIndent="0",this.isdestroy=1,this.inited=0}function l(){this.indicator.style.display="block"}function f(t){this.timeoutHandler=void 0,this.success&&("string"==typeof t?this.success(t,this.inited):this.success(void 0,t,this.inited)),this.lock=0,this.isdestroy||(y.prototype.renderImage(this.target,this.img),this.indicator.style.display="none",!this.inited&&(this.inited=1))}function m(t){var s=this;this.before&&this.before.call(this);var s=this;this.timeoutHandler=setTimeout(function(){},this.timeout),this.loading(),$.ajax({url:s.url,data:s.params,success:function(n){"function"==typeof t&&t.call(s,n),s.loaded(n),!s.isdestroy&&s.page++},error:function(t){s.loaded("ajax error")},dataType:"json"})}function g(t,s){this.page=1,this.inited=0,s&&this.reLive(!0),this.fetch(t),this.ignore=1}function p(){this.page++,this.lock=1,this.fetch()}var y=require("js/component/lazyload"),v=document.body,w=document.documentElement.clientHeight;s.exports=n,n.prototype={init:o,fetch:m,loading:l,loaded:f,rebuild:g,destroy:h,reLive:d,die:c,nextPage:p}}),define("js/component/lazyload",function(require,t,s){function n(t){this.main=t.main,this.selecotr=t.selecotr,this.init()}var o=(document.body,document.documentElement.clientHeight);s.exports=n,n.prototype={init:function(){var t=this,s=window.onscroll;window.onscroll=function(){"function"==typeof s&&s(),t.renderImage()}},renderImage:function(t,s){var n=this.main||t||document.body;$(n).find(s||this.selecotr||"img").each(function(){var t=$(this);if(t[0].getBoundingClientRect().top<o&&!t.attr("init")){var s=t.attr("csrc");s&&t.attr("src",s).attr("init",1)}})}}});