define(function(require){function t(t,o,a){$.get(h.yjApi(t,o,g)+"&olType="+a,function(t){t=JSON.parse(t);var t=n(t&&t.data&&t.data.performance||{}),o="<div><span>浏览 "+(t.browse||0)+"</span><span>订单 "+(t.orders||0)+"</span></div><div><span>点击 "+(t.clicks||0)+"</span><span>收益 ￥"+(t.banlance||0)+"</span></div>";$(".right").html(o)})}function n(t){var n,o,a=T.olType;switch(a){case"1":n=t.productionOrder,o=t.estimatedReturn;break;case"2":n=t.recordOrders,o=t.soonBalance;break;case"3":n=t.settlementOrders,o=t.availableBalance}return{browse:t.browseNumber,clicks:t.clicks,orders:n,banlance:o}}function o(){D.style.left="100%",I.hide(),d.hideLayer()}function a(){var t=f.getEndDate(m.getDate(),-1),n=f.getEndDate(m.getDate(),-30);W.setDay(t),W.setPos(t),B.setDay(n),B.setPos(n),A.hasClass("check")||($(".check").removeClass("check"),A.addClass("check"))}function s(t,n){O.text(t).show(),setTimeout(function(){O.hide()},n||2e3)}var c=require("js/component/calendar"),l=require("js/lib/template"),d=(require("js/lib/rem"),require("js/tools/client")),h=require("js/component/share"),p=require("js/component/waterfull"),f=require("js/tools/date"),m=require("js/component/util"),g=d.getUid()||40||"no-userId",v=l.compile(list),w=h.plApi(g),y=document.querySelector(".wf-indicator"),x=$(".list"),b=$(".loading-mask"),T={beginTime:f.getEndDate(m.getDate(),-30).join("-"),endTime:f.getEndDate(m.getDate(),-1).join("-"),olType:"1"},k=$(".submit"),E=$(".cancelBtn"),j=$(".sd"),A=$(".td"),D=document.querySelector(".date-get"),C=$(".date-get-inner"),M=m.getDate(),I=$(".tb"),S=$(".nofind"),H=$(".time"),P=$(".sel-text"),L=$(".group"),O=$(".toast"),Q=new p({url:w,indicator:y,params:{test:!0,pageNum:1,pageSize:20},page:1,target:x,success:function(t,n,o){b.hide(),n=n.data&&n.data.PerformanceList||[],0==n.length?(Q.inited||S.show(),Q.destroy()):(S.hide(),x.append(v({list:{code:T.olType,data:n},md:function(t){return t=(t||"").split("-")||[],t[1]+"-"+t[2]},year:function(t){return(t||"").split("-")[0]||""}})))},addition:45,before:function(){this.params.pageNum=this.page,$.extend(this.params,T)},needFirst:1});y.style.display="none";var B=new c({height:150,max:M,title:"开始日期",container:C[0],end:function(){$(".check").removeClass("check")}}),W=new c({height:150,max:M,cls:"date2",title:"结束日期",container:C[0],end:function(){$(".check").removeClass("check")}});t(T.beginTime,T.endTime,T.olType),a(),H.text(T.beginTime+" 至 "+T.endTime),window.show=function(){L.removeClass("show"),D.style.left="0",I.show()},!function(){j.click(function(){var t=f.getEndDate(m.getDate(),-1),n=f.getEndDate(m.getDate(),-7);W.setDay(t),W.setPos(t),B.setDay(n),B.setPos(n),j.hasClass("check")||($(".check").removeClass("check"),j.addClass("check"))}),A.click(function(){a()}),k.click(function(){var n=B.getVal().join("-"),a=W.getVal().join("-"),c=new Date(n).getTime(),l=new Date(a).getTime();return c>l?void s("结束日期必须大于开始日期！"):(T.beginTime=n,T.endTime=a,b.show(),H.text(T.beginTime+" 至 "+T.endTime),Q.rebuild(function(){x.html(""),y.style.display="none"},!0),t(T.beginTime,T.endTime),W.setPos(M),B.setPos(M),C.find(".check").removeClass("check"),void o())}),E.click(function(){o()}),P.click(function(){L.toggleClass("show")}),L.delegate("div","click",function(){var n=$(this),o=n.attr("value");T.olType=o,b.show(),x.html(""),Q.rebuild(void 0,!0),t(T.beginTime,T.endTime,T.olType),y.style.display="none",P.text(n.text()),L.toggleClass("show")})}()}),define("js/component/calendar",function(require,t,n){function o(t){t=t||{},this.initDate=t.current,this.parent=t.container,this.yearStamp=t.yearStamp||30,this.height=t.height||150,this.itemHeight=t.itemHeight||30,this.year=[],this.month=[1,2,3,4,5,6,7,8,9,10,11,12],this.day=[],this.max=t.max,this.addCls=t.cls||"",this.title=t.title,this.end=t.end,this.init()}function a(){var t=this.title?"<div class='"+this.addCls+"'><div class=date-title>"+this.title+"</div>":"";t+="<div class='date-cmp'><div class='rule1'></div><div class='rule2'></div><div class='rule3'></div><div class='title'></div><div class='date-body'><div class='year'><div data-tp='year' class='inner'></div></div><div class='month'><div data-tp='month' class='inner'></div></div><div class='day'><div data-tp='day' class='inner'></div></div></div><div class='toolbar'><div class='ok'>确定</div><div class='today'>今天</div><div class='cancel'>取消</div></div></div>";var n=".date-title{width:100%;text-align:center;color:#ddd;height:30px;line-height:30px;}*{padding:0;margin:0}.date-cmp{width:80%;margin:0 10%;border:1px solid #ccc;position:relative;font-weight:700}.title{width:100%;height:30px;line-height:30px;text-align:center;color:red;border-bottom:2px solid #f43f48;color:#f43f48}.date-body{position:relative;height:150px;width:100%;-webkit-box-shadow:inset 0 14px 11px 0 rgba(255,255,255,0.6);-moz-box-shadow:inset 0 14px 11px 0 rgba(255,255,255,0.6);box-shadow:inset 0 14px 11px 0 rgba(255,255,255,0.6)}.rule1,.rule2,.rule3{position:absolute;top:90px;border-bottom:2px solid #f43f48;border-top:2px solid #f43f48;width:18%;height:30px}.rule1{left:7%}.rule2{left:40%}.rule3{left:73%}.date-body>div{width:33.33%;float:left;height:100%;position:relative;overflow:hidden}.inner{position:absolute;top:0;width:100%;transition:.0s top;-webkit-transition:.0s top;will-change:transform;transform:translateZ(0);-webkit-transform:translateZ(0)}.inner>div{text-align:center;width:100%;height:30px;line-height:30px}.toolbar{height:30px;border-top:1px solid #ccc;color:#555;font-size:13px}.toolbar div{border-right:1px solid #ccc;width:32.7999%;text-align:center;display:inline-block;line-height:30px;height:28px}.toolbar div:last-child{border:0}";this.title&&(t+="</div>");var o=$(t,{position:"relative"});f.inject(n),this.el=o,this.yearEl=o.find(".year .inner"),this.monthEl=o.find(".month .inner"),this.dayEl=o.find(".day .inner"),this.$body=o.find(".date-body"),this.titleEl=o.find(".title"),this.toolbar=o.find(".toolbar")}function s(){var t=new Date;return[t.getFullYear(),t.getMonth()+1,t.getDate()]}function c(t){var n=parseInt(t[0]),o=parseInt(t[1]),a=void 0;return a=-1!=[1,3,5,7,8,10,12].indexOf(o)?31:-1!=[4,6,8,9,11].indexOf(o)?30:n%4==0&&n%100!=0||n%100==0&&n%400==0?29:28}function l(t,n,o){var a=t/n;return o>0?Math.ceil(a)*n:Math.floor(a)*n}function d(){return Math.abs(parseInt(this.dayEl.css("top")||0)/this.itemHeight-3)}function h(){return Math.abs(parseInt(this.monthEl.css("top")||0)/this.itemHeight-3)}function p(){return this.year[Math.abs(parseInt(this.yearEl.css("top")||0)/this.itemHeight-2)]}var f=(require("js/component/util"),require("js/component/EventEmitter"),require("js/tools/css"));n.exports=o,o.prototype={init:function(){a.call(this);var t=s();this.setAll(t);var n=this.itemHeight;this.max&&(this.yearMax=(2-this.year.indexOf(this.max[0]))*n,this.monthMax=(2-this.month.indexOf(this.max[1]))*n,this.dayMax=(2-this.day.indexOf(this.max[2]))*n),this.addEvent(),this.render(),this.setPos(t)},setYear:function(t){var n=t[0],o="";this.year=[];for(var a,i=n-this.yearStamp;i<n+this.yearStamp;i++)o+="<div>"+i+"</div>",this.year.push(i),i==n&&(a=this.year.length-1);this.yearEl.html(o),o=void 0,n=void 0},setMonth:function(t){this.monthEl.html(this.month.map(function(t){return"<div>"+t+"</div>"}).join(""))},setDay:function(t,n){this.day.length=0;for(var o=c(t),a="",i=1;o>=i;i++)a+="<div>"+i+"</div>",this.day.push(i);this.dayEl.html(a),a=void 0,day=void 0},setAll:function(t){this.setYear(t),this.setMonth(t),this.setDay(t)},setPos:function(t){var n=this.itemHeight,o=(2*this.itemHeight,parseInt(t[0])),a=parseInt(t[1]),s=this.yearEl,c=this.monthEl,l=this.dayEl,d=(2-this.year.indexOf(o))*n,h=(2-this.month.indexOf(a))*n,p=this.day[parseInt(t[2])]?t[2]:this.day.length,p=-(p-3)*n;this.move(s,d).move(c,h).move(l,p).setVal()},addEvent:function(){var t,n,o=this,a=this.itemHeight,c=this.$body,d="",h="";c.delegate(".inner","touchstart",function(e){e.preventDefault();var o=$(this);t=parseFloat(o.css("top")),h=o.attr("data-tp"),n=e.touches[0].clientY}).delegate(".inner","touchmove",function(e){e.preventDefault();var a=e.touches[0].clientY,s=a-n+t;o.move($(this),s),d=a>n?1:-1}).delegate(".inner","touchend",function(e){o.end&&o.end(),e.preventDefault();var t=$(this),n=parseFloat(t.css("top"));if(o.move(t,l(n,a,d)),"day"==h)return void o.setVal();var s=o.getVal();o.setDay(s,parseInt(o.dayEl.css("top"))),o.setPos(s)}).delegate(".inner div","click",function(e){}),this.toolbar.delegate("div","click",function(e){var t=$(this),n=t.attr("class");switch(n){case"ok":alert(o.getVal().join("-"));break;case"cancel":alert("cancel");break;case"today":o.setPos(s());break;default:return}})},render:function(){(this.parent||document.body).appendChild(this.el[0])},move:function(t,n){var o=this.itemHeight,a=2*o;if(n>a||this.height-t.height()>n+a)return this;var s=this.max;if(s){var c=t.attr("data-tp");"day"==c?n<this.dayMax&&h.call(this)==s[1]&&(n=this.dayMax):"year"==c?n<this.yearMax&&(n=this.yearMax):n<this.monthMax&&(n=this.monthMax)}return t.css("top",n),this},getVal:function(){var t=(this.itemHeight,p.call(this)),n=h.call(this),o=d.call(this);return n=10>n?"0"+n:n,o=10>o?"0"+o:o,[t,n,o]},setVal:function(){this.titleEl.text(this.getVal().join("-"))}}}),!function(){function t(t){return t.replace(y,"").replace(u,",").replace(x,"").replace(b,"").replace($,"").split(T)}function n(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function o(o,a){function e(t){return f+=t.split(/\n/).length-1,h&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=w[1]+n(t)+w[2]+"\n"),t}function s(n){var o=f;if(d?n=d(n,a):c&&(n=n.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===n.indexOf("=")){var e=p&&!/^=[=#]/.test(n);if(n=n.replace(/^=[=#]?|[\s;]*$/g,""),e){var s=n.replace(/\s*\([^\)]+\)/,"");m[s]||/^(include|print)$/.test(s)||(n="$escape("+n+")")}else n="$string("+n+")";n=w[1]+n+w[2]}return c&&(n="$line="+o+";"+n),r(t(n),function(t){if(t&&!v[t]){var n;n="print"===t?u:"include"===t?x:m[t]?"$utils."+t:g[t]?"$helpers."+t:"$data."+t,b+=t+"="+n+",",v[t]=!0}}),n+"\n"}var c=a.debug,l=a.openTag,i=a.closeTag,d=a.parser,h=a.compress,p=a.escape,f=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,w=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],y=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+y+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+y+"}",b="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(c?"$line=0,":""),$=w[0],T="return new String("+w[3]+");";r(o.split(l),function(t){t=t.split(i);var n=t[0],o=t[1];1===t.length?$+=e(n):($+=s(n),o&&($+=e(o)))});var k=b+$+T;c&&(k="try{"+k+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+n(o)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var E=new Function("$data","$filename",k);return E.prototype=m,E}catch(j){throw j.temp="function anonymous($data,$filename) {"+k+"}",j}}var a=function(t,n){return"string"==typeof n?q(n,{filename:t}):c(t,n)};a.version="3.0.0",a.config=function(t,n){e[t]=n};var e=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},s=a.cache={};a.render=function(t,n){return q(t,n)};var c=a.renderFile=function(t,n){var o=a.get(t)||v({filename:t,name:"Render Error",message:"Template not found"});return n?o(n):o};a.get=function(t){var n;if(s[t])n=s[t];else if("object"==typeof document){var o=document.getElementById(t);if(o){var a=(o.value||o.innerHTML).replace(/^\s*|\s*$/g,"");n=q(a,{filename:t})}}return n};var l=function(t,n){return"string"!=typeof t&&(n=typeof t,"number"===n?t+="":t="function"===n?l(t.call(t)):""),t},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},d=function(t){return i[t]},h=function(t){return l(t).replace(/&(?![\w#]+;)|[<>"']/g,d)},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},f=function(t,n){var o,a;if(p(t))for(o=0,a=t.length;a>o;o++)n.call(t,t[o],o,t);else for(o in t)n.call(t,t[o],o)},m=a.utils={$helpers:{},$include:c,$string:l,$escape:h,$each:f};a.helper=function(t,n){g[t]=n};var g=a.helpers=m.$helpers;a.onerror=function(t){var n="Template Error\n\n";for(var o in t)n+="<"+o+">\n"+t[o]+"\n\n";"object"==typeof console&&console.error(n)};var v=function(t){return a.onerror(t),function(){return"{Template Error}"}},q=a.compile=function(t,n){function a(o){try{return new i(o,l)+""}catch(a){return n.debug?v(a)():(n.debug=!0,q(t,n)(o))}}n=n||{};for(var c in e)void 0===n[c]&&(n[c]=e[c]);var l=n.filename;try{var i=o(t,n)}catch(d){return d.filename=l||"anonymous",d.name="Syntax Error",v(d)}return a.prototype=i.prototype,a.toString=function(){return i.toString()},l&&n.cache&&(s[l]=a),a},r=m.$each,w="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",y=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,x=new RegExp(["\\b"+w.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),b=/^\d[^,]*|,\d[^,]*/g,$=/^,+|,+$/g,T=/^$|,+/;"function"==typeof define?define("js/lib/template",function(require,t,n){n.exports=a}):"undefined"!=typeof exports?module.exports=a:this.template=a}(),define("js/lib/rem",function(require,t,n){n.exports=!function(t,n){function o(){var n=c.getBoundingClientRect().width;n/h>540&&(n=540*h);var e=n/10;c.style.fontSize=e+"px",f.rem=t.rem=e}var a,s=t.document,c=s.documentElement,l=s.querySelector('meta[name="viewport"]'),d=s.querySelector('meta[name="flexible"]'),h=0,p=0,f=n.flexible||(n.flexible={});if(l){var m=l.getAttribute("content").match(/initial\-scale=([\d\.]+)/);m&&(p=parseFloat(m[1]),h=parseInt(1/p))}else if(d){var g=d.getAttribute("content");if(g){var v=g.match(/initial\-dpr=([\d\.]+)/),w=g.match(/maximum\-dpr=([\d\.]+)/);v&&(h=parseFloat(v[1]),p=parseFloat((1/h).toFixed(2))),w&&(h=parseFloat(w[1]),p=parseFloat((1/h).toFixed(2)))}}if(!h&&!p){var u=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),y=t.devicePixelRatio;h=u?y>=3&&(!h||h>=3)?3:y>=2&&(!h||h>=2)?2:1:1,p=1/h}if(c.setAttribute("data-dpr",h),!l)if(l=s.createElement("meta"),l.setAttribute("name","viewport"),l.setAttribute("content","initial-scale="+p+", maximum-scale="+p+", minimum-scale="+p+", user-scalable=no"),c.firstElementChild)c.firstElementChild.appendChild(l);else{var x=s.createElement("div");x.appendChild(l),s.write(x.innerHTML)}t.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(o,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(a),a=setTimeout(o,300))},!1),"complete"===s.readyState?s.body.style.fontSize=12*h+"px":s.addEventListener("DOMContentLoaded",function(){s.body.style.fontSize=12*h+"px"},!1),o(),f.dpr=t.dpr=h,f.refreshRem=o,f.rem2px=function(t){var n=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(n+="px"),n},f.px2rem=function(t){var n=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(n+="rem"),n}}(window,{})}),define("js/tools/client",function(require,t,n){function o(){try{window.common.showHideGoodsBar(1)}catch(e){window.showHideGoodsBar&&window.showHideGoodsBar(1)}}function a(){try{window.common.showHideGoodsBar(0)}catch(e){window.showHideGoodsBar&&window.showHideGoodsBar(0)}}function s(){try{window.common.hideBlackView()}catch(e){window.hideBlackView&&window.hideBlackView()}}function c(){try{window.common.showWarn()}catch(e){window.showWarn&&window.showWarn()}}function l(){try{window.common.hideWarn()}catch(e){window.hideWarn&&window.hideWarn()}}function d(t,n){try{window.common.shipOrderDetail("",t,n)}catch(e){window.shipOrderDetail&&window.shipOrderDetail(t,n)}}function h(){try{window.common.shipWallet()}catch(e){window.shipWallet&&window.shipWallet()}}function p(t){try{return window.common.getUser()}catch(e){return window.getUid&&window.getUid()}}function f(){try{window.common.gotoMain()}catch(e){window.gotoMain&&window.gotoMain()}}function m(t){try{window.common.shareInfo(t)}catch(e){window.shareInfo&&window.shareInfo(t)}}function g(t){console.log(t);try{window.shop.shopPage(t)}catch(e){window.carouselRedirect&&window.carouselRedirect(t)}}function v(t,n,o){try{window.common.newWebPage(t,n||"0",o||0)}catch(e){window.newPage&&window.newPage(t,n||"0",o)}}n.exports={share:m,gotoPage:g,getUid:p,gotoDetail:d,newPage:v,shipWallet:h,gotoMain:f,showWarn:c,hideWarn:l,hideLayer:s,hideBar:o,showBar:a}}),define("js/component/share",function(require,t,n){var o="http://172.16.40.215:8080",a="/ol.html",s="/result.html",c="/search.html",l="/pl.html",d="/shareRecord.html",h="/queqiao/account/getOrderList",p="/queqiao/account/getUserAccountInfo",f="/queqiao/performance/getSummaryInfo",m=o+"/queqiao/log/saveClickLog",g=o+"/queqiao/log/saveBrowseLog",v=o+"/queqiao/collectionShare/clickCollectionShareUrl",w="/product/getProductInfoQQiaoShare",y="/tdj/getTaodianjinInfo",x="/queqiao/order/getNewOrderNum",b="/product/getQQiaoSolrProductList",$=o+"/product/getTopCategoryList?test=true",T=o+"/product/getQueQiaoProductList?test=true&pageNum=1&pageSize=20",k=o+"/product/getQueQiaoProductList",E=o+"/product/getQueQiaoCarouselList?test=true",j=o+"/product/getQueQiaoCategoryHot?test=true&type=2",A=o+"/product/getQueQiaoCategoryHot?test=true&type=1",D=o+"/topic/getTopicInfoQueQiaoShare",C=o+"/topic/getTopicInfoQueQiao",M=o+"/queqiao/share/getShareList",I=o+"/queqiao/performance/getPerformanceList";n.exports={server:o,resultUrl:s,searchUrl:c,prPage:l,srPage:d,sc:v,searchCategoryApi:$,recommendApi:T,mainApi:k,carsouselApi:E,hotSearchWord:j,hotCategory:A,appActivityAPI:C,activityApi:D,clickApi:m,browseApi:g,olUrl:function(t){return a+(t||"")},searchResultApi:function(){return o+b},olApi:function(t){return o+h+(t||"")+"&test=true"},balanceApi:function(t){return o+p+"?userId="+t+"&test=true"},yjApi:function(t,n,a){return o+f+"?beginTime="+(t||"")+"&endTime="+(n||"")+"&userId="+(a||"")+"&test=true"},pdApi:function(t){return o+w+"?productId="+t+"&test=true"},tdjApi:function(t){return o+y+"?NumIids="+t+"&test=true"},newOlApi:function(t,n){return o+x+"?userId="+t+"&lastTime="+n+"&test=true"},shareRecordApi:function(t){return M+"?test=true&userId="+t},plApi:function(t){return I+"?test=true&userId="+t}}}),define("js/component/waterfull",function(require,t,n){function o(t){this.url=t.url,this.lock=0,this.page=t.page||2,this.params=t.params||{},this.needFirst=t.needFirst,this.before=t.before,this.indicator=t.indicator,this.success=t.success,this.target=t.target,this.needDestroy=1,this.ignore=0,this.addition=t.addition,this.scrollTest=l,this.inited=0,this.timeout=t.timeout||4e3,this.timeoutHandler=void 0,this.img=t.img||".list_left img",this.init(),this.needFirst&&this.fetch()}function a(){var t=this,n=window.onscroll,o=this.indicator.style;o.backgroundSize="100% 100%",window.onscroll=function(){"function"==typeof n&&n(),t.scrollTest&&t.scrollTest()}}function s(){this.scrollTest=void 0}function c(t){1==this.isdestroy&&(this.scrollTest=l,this.isdestroy=0,!t&&this.init(),this.lock=0,this.indicator.innerHTML="Loading...")}function l(){var t=this;if(!t.lock)return t.ignore?void(t.ignore=0):void(window.scrollY>=w.offsetHeight-y-t.addition&&(t.lock=1,t.fetch()))}function d(){this.scrollTest=void 0,this.indicator.style.backgroundImage='url("aaa")',this.indicator.innerHTML="没有数据了..",this.indicator.style.textIndent="0",this.isdestroy=1,this.inited=0}function h(){this.indicator.style.display="block"}function p(t){this.timeoutHandler=void 0,this.success&&("string"==typeof t?this.success(t,this.inited):this.success(void 0,t,this.inited)),this.lock=0,this.isdestroy||(v.prototype.renderImage(this.target,this.img),this.indicator.style.display="none",!this.inited&&(this.inited=1))}function f(t){var n=this;this.before&&this.before.call(this);var n=this;this.timeoutHandler=setTimeout(function(){},this.timeout),this.loading(),$.ajax({url:n.url,data:n.params,success:function(o){"function"==typeof t&&t.call(n,o),n.loaded(o),!n.isdestroy&&n.page++},error:function(t){n.loaded("ajax error")},dataType:"json"})}function m(t,n){this.page=1,this.inited=0,n&&this.reLive(!0),this.fetch(t),this.ignore=1}function g(){this.page++,this.lock=1,this.fetch()}var v=require("js/component/lazyload"),w=document.body,y=document.documentElement.clientHeight;n.exports=o,o.prototype={init:a,fetch:f,loading:h,loaded:p,rebuild:m,destroy:d,reLive:c,die:s,nextPage:g}}),define("js/tools/date",function(req,t,n){function o(t,n){var o=t[0],a=t[1],s=t[2],c=0;return 1>s+n?(a--,0>=a&&(a+=12,o--),-1!=[1,3,5,7,8,10,12].indexOf(a)?c=31:-1!=[4,6,8,9,11].indexOf(a)?c=30:o%4==0&&o%100!=0||o%100==0&&o%400==0&&(c=29)||(c=28),s=c+s+n):s+=n,10>a&&(a="0"+a),10>s&&(s="0"+s),[o,a,s]}n.exports={getEndDate:o}}),define("js/component/util",function(require,t,n){function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random()|0,n="x"==t?r:3&r|8;return n.toString(16)})}function a(){var t=document.documentElement.clientWidth,n=document.createElement("style");n.innerHTML=".rtop{background-size:100% 100% !important;}.list_top .list_left{height:"+.36*t+"px;max-height:"+.36*t+"px;overflow:hidden;}",document.getElementsByTagName("head")[0].appendChild(n)}function s(){var t=new Date;return[t.getFullYear(),"-",t.getMonth()+1,"-",t.getDate()," ",t.getHours(),":",t.getMinutes(),":",t.getSeconds()].map(function(t){return"number"==typeof t&&10>t?"0"+t:t})}function c(){var t=new Date;return[t.getFullYear(),t.getMonth()+1,t.getDate()]}function l(t){return t.replace(/(^\s*)|(\s*$)/g,"").replace(/[\r\n]/g,"")}function d(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}function h(){var u=navigator.userAgent;return u.indexOf("Android")>-1||u.indexOf("Linux")>-1}function p(){var t=navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)?!0:!1}function f(t){return"string"!=typeof t?{}:(t=$.trim(t).replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,n){var o=n.replace(/\+/g," ").split("="),a=o[0],s=o[1];return a=decodeURIComponent(a),s=void 0===s?null:decodeURIComponent(s),t.hasOwnProperty(a)?Array.isArray(t[a])?t[a].push(s):t[a]=[t[a],s]:t[a]=s,t},{}):{})}function m(){var t=window.navigator.userAgent.toLowerCase(),n="8";return"micromessenger"==t.match(/MicroMessenger/i)?n="4":"qqbrowser"==t.match(/QQBrowser/i)||"mqqbrowser"==t.match(/MQQBrowser/i)||"qq"==t.match(/QQ/i)?n="5":"weibo"==t.match(/Weibo/i)?n="2":"alipay"==t.match(/Alipay/i)&&(n="7"),n}n.exports={urlParse:f,getChannelType:m,isWeixin:p,isIos:d,isAndroid:h,delSpace:l,getDate:c,Guid:o,getTime:s,injectCss:a}}),define("js/component/EventEmitter",function(require,t,n){return function(){var t={};return{on:function(n,o,a){return!t[n]&&(t[n]=[]),a&&!a.__id&&(a.__id=Math.random()),t[n].push({fn:o,context:a}),this},emit:function(n,o,a){return t[n]&&t[n].forEach(function(t,n){if(a){if(t.context.__id==a.__id)return void t.fn.apply(a,o)}else t.fn.apply(t.context||null,o)}),this}}}()}),define("js/tools/css",function(req,t,n){function o(t){var n=document.createElement("style");n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n)}n.exports={inject:o}}),define("js/component/lazyload",function(require,t,n){function o(t){this.main=t.main,this.selecotr=t.selecotr,this.init()}var a=(document.body,document.documentElement.clientHeight);n.exports=o,o.prototype={init:function(){var t=this,n=window.onscroll;window.onscroll=function(){"function"==typeof n&&n(),t.renderImage()}},renderImage:function(t,n){var o=this.main||t||document.body;$(o).find(n||this.selecotr||"img").each(function(){var t=$(this);if(t[0].getBoundingClientRect().top<a&&!t.attr("init")){var n=t.attr("csrc");n&&t.attr("src",n).attr("init",1)}})}}});