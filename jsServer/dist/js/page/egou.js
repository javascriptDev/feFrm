define(function(require){var t=require("js/component/validateCode"),n=$(".vc"),o=($(".btn"),$(".rcode")),d=new t({el:n});d.render(),$(".btn").click(function(){d.validate(o.val()).then(function(t){alert(!!t)})})}),define("js/component/validateCode",function(require,t,n){function o(t){this.sid=(new Date).getTime(),this.el=t.el}n.exports=o,o.prototype={render:function(){this.el.attr("src","/services/getCode?s="+this.sid)},validate:function(t){var n=this;return $.get("/services/validate?code="+t+"&s="+this.sid,function(t){t=JSON.parse(t),0==t.code?n.done&&n.done(1):n.done&&n.done(n.update())}),this},update:function(){this.sid=(new Date).getTime(),this.render()},then:function(t){!this.done&&(this.done=t)}}});